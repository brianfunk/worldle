<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>QR</title>
  </head>
  <body>
    <canvas id="canvas"></canvas>

    <script src="/scripts/qrcode.js"></script>
    <script>
      var opts = {
        //errorCorrectionLevel: 'H',
        //type: 'image/jpeg',
        //quality: 0.3,
        margin: 2,
        width: 240,
        color: {
          //dark:"#2A296BFF",
          //light:"#F7931EFF",
          dark: "#F7931EFF",
          light: "#FFFFFFFF",
        },
      };

      console.log(window.location.origin);
      console.log(window.location.host);

      var queryString = window.location.search;
      var urlParams = new URLSearchParams(queryString);
      var id = urlParams.get("id");
      var url = window.location.origin + "/geo.html?id=" + id;

      QRCode.toCanvas(
        document.getElementById("canvas"),
        url,
        opts,
        function (error) {
          if (error) console.error(error);
          console.log("success!");
        }
      );
    </script>
  </body>
</html>
